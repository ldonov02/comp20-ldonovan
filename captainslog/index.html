<!DOCTYPE html>

<html>

<head>
	<title>Captain's Log</title>
	<meta charset="UTF-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script>
		$(document).ready(function(){
			var message;
			$("#log").html(localStorage.getItem("log"));
			console.log(localStorage.log);
				


			$("#msg").keydown(function(event){
  				if ( event.which == 13 ) { // enter key is pressed
    				message = $("#msg").val(); 
    				current_time = getCurrentTime();
    				$("#log").prepend("<p>" + current_time + " - " + message + "</p>");
    				localStorage.setItem("log", $("#log").html());

 				}

 				function getCurrentTime(){ 
 				 	var time = new Date();
 				 	days = ["Sun", "Mon", "Tues", "Wed", "Thurs", "Fri", "Sat"];
 				 	months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
 				 	curr_day = days[time.getDay()];
					curr_month = months[time.getMonth()];
 				 	return curr_day + ", " + curr_month + " " + time.getDate() + ", " + time.getFullYear() + " " + ("0" + time.getHours()).slice(-2) + ":" +  ("0" + time.getMinutes()).slice(-2) + ":" + ("0" + time.getSeconds()).slice(-2);
 				}
			});

		});
	</script>
</head>

<body>
	<h1>Captain's Log</h1>
	<h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
	<div id="log"></div>
</body>
</html>